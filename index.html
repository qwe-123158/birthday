<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>ChÃºc má»«ng sinh nháº­t!</title>
  <style>
    body {
      text-align: center;
      font-family: 'Segoe UI', sans-serif;
      padding-top: 60px;
      background-image: url('https://i.imgur.com/TxzC70f.jpg');
      background-size: cover;
      background-position: center;
      color: #fff;
    }
    h1 {
      font-size: 3em;
      color: #ffe600;
      text-shadow: 2px 2px 5px #000;
    }
    p, #customMessage {
      font-size: 1.5em;
      text-shadow: 1px 1px 3px #000;
    }
    .cake-img {
      width: 300px;
      height: auto;
      margin-top: 20px;
      border-radius: 15px;
      box-shadow: 0 0 10px rgba(255,255,255,0.5);
    }
    .confetti {
      position: fixed;
      top: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 999;
    }
  </style>
</head>
<body>
  <canvas class="confetti" id="confetti-canvas"></canvas>
  <h1 id="title">ðŸŽ‚</h1>
  <p id="dateText"></p>
  <p id="customMessage"></p>
  <img id="cake" class="cake-img" src="" alt="Birthday Cake" />
  <audio autoplay loop>
    <source src="https://www.fesliyanstudios.com/play-mp3/387" type="audio/mpeg">
    TrÃ¬nh duyá»‡t cá»§a báº¡n khÃ´ng há»— trá»£ Ã¢m thanh.
  </audio>

  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <script>
    const params = new URLSearchParams(window.location.search);
    const name = decodeURIComponent(params.get("name") || "báº¡n");
    const date = decodeURIComponent(params.get("date") || "");

    document.getElementById("title").textContent = `ChÃºc má»«ng sinh nháº­t, ${name}! ðŸŽ‰`;
    document.getElementById("dateText").textContent = date ? `NgÃ y sinh: ${date}` : "";

    // Tin nháº¯n cÃ¡ nhÃ¢n hÃ³a
    const messageTemplates = [
      `ChÃºc ${name} luÃ´n máº¡nh khá»e, háº¡nh phÃºc vÃ  thÃ nh cÃ´ng trong cuá»™c sá»‘ng! ðŸ’–`,
      `${name} Æ¡i, hÃ´m nay lÃ  ngÃ y cá»§a báº¡n â€“ táº­n hÆ°á»Ÿng tá»«ng khoáº£nh kháº¯c nhÃ©! ðŸŒŸ`,
      `Sinh nháº­t vui váº» nha ${name}! Mong má»i Ä‘iá»u Æ°á»›c cá»§a báº¡n Ä‘á»u trá»Ÿ thÃ nh hiá»‡n thá»±c ðŸŽˆ`,
    ];
    const message = messageTemplates[Math.floor(Math.random() * messageTemplates.length)];
    document.getElementById("customMessage").textContent = message;

    // áº¢nh bÃ¡nh sinh nháº­t ngáº«u nhiÃªn
    const cakes = [
      "https://i.imgur.com/KZsmUi2.jpg",
      "https://i.imgur.com/Vz1lZ0F.jpg",
      "https://i.imgur.com/nqQ79T3.jpg",
      "https://i.imgur.com/DUZBFTe.jpg"
    ];
    document.getElementById("cake").src = cakes[Math.floor(Math.random() * cakes.length)];

    // Hiá»‡u á»©ng confetti
    const duration = 10 * 1000;
    const animationEnd = Date.now() + duration;
    const confetti = () => {
      if (Date.now() < animationEnd) {
        requestAnimationFrame(confetti);
        window.confetti({ particleCount: 3, angle: 60, spread: 55, origin: { x: 0 } });
        window.confetti({ particleCount: 3, angle: 120, spread: 55, origin: { x: 1 } });
      }
    };
    confetti();
  </script>
</body>
</html>
